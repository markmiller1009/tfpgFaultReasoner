{
  "model_name": "ADAPT_Power_Distribution_Complex",
  "version": "2.0",
  "description": "Complex rTFPG based on NASA ADAPT Power System (Source 250). Features multiple failure modes, AND-gates for cascading failures, and varying propagation delays.",
  "signals": [
    {
      "id": "S1",
      "source_name": "sensor_load_bank_current_amps",
      "type": "Continuous",
      "units": "Amps",
      "range_min": 0.0,
      "range_max": 25.0
    },
    {
      "id": "S2",
      "source_name": "sensor_bus_voltage_v",
      "type": "Continuous",
      "units": "Volts",
      "range_min": 0.0,
      "range_max": 35.0
    },
    {
      "id": "S3",
      "source_name": "sensor_battery_temp_c",
      "type": "Continuous",
      "units": "Celsius",
      "range_min": -20.0,
      "range_max": 120.0
    },
    {
      "id": "S4",
      "source_name": "sensor_inverter_freq_hz",
      "type": "Continuous",
      "units": "Hz",
      "range_min": 50.0,
      "range_max": 70.0
    }
  ],
  "nodes": [
    {
      "id": "FM1",
      "name": "Inverter_Short_Circuit",
      "type": "FailureMode",
      "description": "Short circuit in the DC-AC inverter leading to current spikes."
    },
    {
      "id": "FM2",
      "name": "Battery_Cooling_Fail",
      "type": "FailureMode",
      "description": "Failure of the active cooling loop for the lead-acid battery bank."
    },
    {
      "id": "FM3",
      "name": "Load_Sensor_Bias",
      "type": "FailureMode",
      "description": "Additive bias drift in the load current sensor (Source 250: IT fault)."
    },
    {
      "id": "D1",
      "name": "High_Load_Current",
      "type": "Discrepancy",
      "gate_type": "OR",
      "predicate": {
        "signal_ref": "S1",
        "operator": ">",
        "threshold": 18.0
      },
      "criticality_level": 3
    },
    {
      "id": "D2",
      "name": "Bus_Voltage_Sag",
      "type": "Discrepancy",
      "gate_type": "OR",
      "predicate": {
        "signal_ref": "S2",
        "operator": "<",
        "threshold": 24.0
      },
      "criticality_level": 4
    },
    {
      "id": "D3",
      "name": "Inverter_Freq_Drift",
      "type": "Discrepancy",
      "gate_type": "OR",
      "predicate": {
        "signal_ref": "S4",
        "operator": ">",
        "threshold": 62.0
      },
      "criticality_level": 2
    },
    {
      "id": "D4",
      "name": "Battery_Warm",
      "type": "Discrepancy",
      "gate_type": "OR",
      "predicate": {
        "signal_ref": "S3",
        "operator": ">",
        "threshold": 45.0
      },
      "criticality_level": 2
    },
    {
      "id": "D5",
      "name": "Battery_Critical_Temp",
      "type": "Discrepancy",
      "gate_type": "OR",
      "predicate": {
        "signal_ref": "S3",
        "operator": ">",
        "threshold": 80.0
      },
      "criticality_level": 8
    },
    {
      "id": "D6",
      "name": "Thermal_Runaway_Risk",
      "type": "Discrepancy",
      "gate_type": "AND",
      "description": "Complex logic: Requires BOTH High Current (internal heating) AND Cooling Failure (external) to trigger.",
      "predicate": {
        "signal_ref": "S3",
        "operator": ">",
        "threshold": 60.0
      },
      "criticality_level": 9
    },
    {
      "id": "D7",
      "name": "System_Collapse",
      "type": "Discrepancy",
      "gate_type": "OR",
      "predicate": {
        "signal_ref": "S2",
        "operator": "<",
        "threshold": 10.0
      },
      "criticality_level": 10
    }
  ],
  "edges": [
    {
      "from": "FM1",
      "to": "D1",
      "time_min_ms": 0,
      "time_max_ms": 10,
      "description": "Short circuit causes immediate current spike."
    },
    {
      "from": "FM1",
      "to": "D3",
      "time_min_ms": 20,
      "time_max_ms": 100,
      "description": "Inverter instability causes frequency drift shortly after short."
    },
    {
      "from": "D1",
      "to": "D2",
      "time_min_ms": 50,
      "time_max_ms": 200,
      "description": "High current draw pulls down bus voltage."
    },
    {
      "from": "D1",
      "to": "D6",
      "time_min_ms": 1000,
      "time_max_ms": 5000,
      "description": "Sustained high current contributes to thermal runaway risk (Input 1 of AND)."
    },
    {
      "from": "FM2",
      "to": "D4",
      "time_min_ms": 5000,
      "time_max_ms": 15000,
      "description": "Cooling failure causes slow temperature rise."
    },
    {
      "from": "D4",
      "to": "D5",
      "time_min_ms": 10000,
      "time_max_ms": 30000,
      "description": "Continued warming leads to critical temp if unchecked."
    },
    {
      "from": "D4",
      "to": "D6",
      "time_min_ms": 2000,
      "time_max_ms": 8000,
      "description": "Elevated temp contributes to thermal runaway risk (Input 2 of AND)."
    },
    {
      "from": "D6",
      "to": "D7",
      "time_min_ms": 500,
      "time_max_ms": 2000,
      "description": "Thermal runaway causes total system electrical collapse."
    },
    {
      "from": "FM3",
      "to": "D1",
      "time_min_ms": 1000,
      "time_max_ms": 60000,
      "description": "Sensor bias drift eventually triggers high current false alarm (Slow)."
    }
  ]
}